# 记忆写入策略 (Memory Policy)
版本：v1.0 | 创建：2026-02-26

## 目标

确保“学习用户习惯”可控、可追溯、可纠错，避免脏记忆污染团队决策。

---

## 记忆类型

1. `memory/project-context.md`：项目事实（技术栈、目录、现状、约束）
2. `memory/user-habits.md`：用户偏好（沟通、代码、流程、审查）
3. `memory/decisions-log.md`：关键决策与原因

---

## 写入原则

1. **确认原则**：未得到用户明确确认，不写入长期偏好。
2. **证据原则**：每条记忆必须带来源任务、日期、触发语句或结论。
3. **去重原则**：写入前先检查同类条目，避免重复。
4. **冲突原则**：新旧规则冲突时，不覆盖，先提问确认。
5. **最小化原则**：只记录会影响后续决策的内容。

---

## 推荐记录格式

```markdown
- [强/中/弱] [偏好或规则描述]
  来源：TASK-20260226-01
  日期：2026-02-26
  证据：用户明确要求“以后都这样做”
```

---

## 降级与清理

- 连续 30 天未命中的偏好可降级为“弱”。
- 被用户明确否定的偏好，立即标记“失效”并注明原因。
- 每月做一次记忆清理，删除重复和过时条目。
